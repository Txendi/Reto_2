RewriteEngine On
RewriteBase /~dw2t_jon_ismael/Reto_2/backend/


# Header always set Access-Control-Allow-Origin "http://10.0.56.66"
# Header always set Access-Control-Allow-Headers "Content-Type, Authorization"
# Header always set Access-Control-Allow-Methods "GET, POST, OPTIONS"
# Header always set Access-Control-Allow-Credentials "true"
# Header always set Access-Control-Max-Age "86400"

RewriteCond %{REQUEST_METHOD} OPTIONS
RewriteRule ^(.*)$ $1 [R=200,L]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d


#REGISTRO
RewriteRule ^auth/login/?$ login.php [NC,L]

#LOGIN
RewriteRule ^auth/register/?$ registro.php [NC,L]

#LOGOUT
RewriteRule ^auth/logout/?$ authLogout.php [NC,L]


#PERFIL
RewriteRule ^user/events/?$ eventosUsuario.php [NC,L]
RewriteRule ^user/desapuntar/?$ desapuntarEvento.php  [NC,L]
RewriteRule ^user/apuntar/?$ apuntarEvento.php  [NC,L]


#JUEGOS
RewriteRule ^game/(\d+)/?$ juegos.php?id=$1 [NC,L]
RewriteRule ^games/(.+)/?$ listaJuegos.php?q=$1 [NC,L]
RewriteRule ^games/?$ listaJuegos.php?q= [NC,L]

#EVENTOS
RewriteRule ^events/?$ eventos.php [NC,L]
RewriteRule ^events/tipos/?$ eventosTipos.php [NC,L]


#Usuario
RewriteRule ^auth/me/?$ authMe.php [NC,L]
